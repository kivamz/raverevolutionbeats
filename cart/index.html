<!DOCTYPE html><html lang="en"> <head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="icon" type="image/svg+xml" href="/raverevolutionbeatsfavicon.svg"><title>Rave Revolution Beats</title><!-- CDN de Font Awesome --><script src="https://kit.fontawesome.com/5e60daf075.js" crossorigin="anonymous"></script><link rel="stylesheet" href="/raverevolutionbeats/_astro/cart.QFczq73T.css">
<link rel="stylesheet" href="/raverevolutionbeats/_astro/about.BcPCeXab.css"></head> <body> <header> <div class="container"> <a href="/raverevolutionbeats" class="logo"> <img src="/raverevolutionbeatslogo.png" alt="Rave Revolution Beats Logo"> </a> <nav class="nav"> <ul> <li><a href="/raverevolutionbeats">Home</a></li> <li><a href="/raverevolutionbeatsabout/">About</a></li> <li><a href="/raverevolutionbeatsmusic/">Music</a></li> <li><a href="/raverevolutionbeatsstore/">Store</a></li> <li><a href="/raverevolutionbeatscontact/">Contact</a></li> </ul> </nav> <div class="header-actions"> <!-- Cart Icon --> <div id="cart-icon" class="cart-icon"> <i class="fas fa-shopping-cart"></i> <span id="cart-badge" class="cart-badge" style="display: none;">0</span> </div> <button class="menu-toggle" aria-label="Toggle Navigation"> <span class="menu-icon">☰</span> <span class="menu-text">Menu</span> </button> </div> </div> </header> <!-- Include Cart Component --> <div id="mini-cart" class="mini-cart"> <div class="cart-header"> <h3>Shopping Cart</h3> <button id="close-cart" class="close-cart" aria-label="Close cart"> <i class="fas fa-times"></i> </button> </div> <div class="cart-content"> <div id="cart-items" class="cart-items"> <!-- Cart items will be loaded dynamically --> </div> <div class="cart-empty" id="cart-empty" style="display: none;"> <p>Your cart is empty</p> <a href="store" class="btn">Continue Shopping</a> </div> </div> <div class="cart-footer" id="cart-footer" style="display: none;"> <div class="cart-subtotal"> <span>Subtotal: <strong id="cart-subtotal">€0.00</strong></span> </div> <div class="cart-actions"> <a href="cart" class="btn btn-secondary">View Cart</a> <button class="btn btn-primary" id="checkout-btn">Checkout</button> </div> </div> </div> <div id="cart-overlay" class="cart-overlay"></div> <script type="module">
  document.addEventListener("DOMContentLoaded", () => {
    const miniCart = document.getElementById("mini-cart");
    const cartOverlay = document.getElementById("cart-overlay");
    const closeCartBtn = document.getElementById("close-cart");
    const cartIcon = document.getElementById("cart-icon");
    const cartBadge = document.getElementById("cart-badge");
    const cartItems = document.getElementById("cart-items");
    const cartEmpty = document.getElementById("cart-empty");
    const cartFooter = document.getElementById("cart-footer");
    const cartSubtotal = document.getElementById("cart-subtotal");

    // Format price function
    const formatPrice = (price, currency = "EUR") => {
      const safeCurrency = currency && typeof currency === 'string' ? currency : "EUR";
      return new Intl.NumberFormat("es-ES", {
        style: "currency",
        currency: safeCurrency
      }).format(parseFloat(price));
    };

    // Load cart from localStorage
    const loadCart = () => {
      try {
        return JSON.parse(localStorage.getItem("cart") || "[]");
      } catch (e) {
        console.error("Error loading cart:", e);
        return [];
      }
    };

    // Save cart to localStorage
    const saveCart = (cart) => {
      localStorage.setItem("cart", JSON.stringify(cart));
      updateCartBadge();
      updateCartDisplay();
    };

    // Update cart badge
    const updateCartBadge = () => {
      const cart = loadCart();
      const itemCount = cart.reduce((total, item) => total + item.quantity, 0);
      
      if (cartBadge) {
        cartBadge.textContent = itemCount;
        cartBadge.style.display = itemCount > 0 ? "block" : "none";
      }
    };

    // Update cart display
    const updateCartDisplay = () => {
      const cart = loadCart();
      
      if (cart.length === 0) {
        cartItems.innerHTML = "";
        cartEmpty.style.display = "block";
        cartFooter.style.display = "none";
        return;
      }

      cartEmpty.style.display = "none";
      cartFooter.style.display = "block";

      // Render cart items
      cartItems.innerHTML = cart.map((item, index) => `
        <div class="cart-item" data-index="${index}">
          <div class="item-image">
            <img src="${item.thumbnail || 'https://placehold.co/60x60/121212/ffffff?text=No+Image'}" alt="${item.name}" />
          </div>
          <div class="item-details">
            <h4>${item.name}</h4>
            <p class="item-variant">${item.color} - ${item.size}</p>
            <div class="item-controls">
              <div class="quantity-controls">
                <button class="qty-btn minus" data-index="${index}">-</button>
                <span class="quantity">${item.quantity}</span>
                <button class="qty-btn plus" data-index="${index}">+</button>
              </div>
              <span class="item-price">${formatPrice(item.price * item.quantity, item.currency)}</span>
            </div>
          </div>
          <button class="remove-item" data-index="${index}" aria-label="Remove item">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      `).join("");

      // Calculate subtotal
      const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
      cartSubtotal.textContent = formatPrice(subtotal);

      // Add event listeners for cart controls
      addCartControlListeners();
    };

    // Add event listeners for cart controls
    const addCartControlListeners = () => {
      // Quantity controls
      document.querySelectorAll(".qty-btn").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const index = parseInt(e.target.dataset.index);
          const cart = loadCart();
          const isPlus = e.target.classList.contains("plus");

          if (isPlus) {
            cart[index].quantity += 1;
          } else {
            cart[index].quantity = Math.max(1, cart[index].quantity - 1);
          }

          saveCart(cart);
        });
      });

      // Remove item
      document.querySelectorAll(".remove-item").forEach(btn => {
        btn.addEventListener("click", (e) => {
          const index = parseInt(e.target.dataset.index);
          const cart = loadCart();
          cart.splice(index, 1);
          saveCart(cart);
        });
      });
    };

    // Open cart
    const openCart = () => {
      miniCart.classList.add("open");
      cartOverlay.classList.add("open");
      document.body.style.overflow = "hidden";
      updateCartDisplay();
    };

    // Close cart
    const closeCart = () => {
      miniCart.classList.remove("open");
      cartOverlay.classList.remove("open");
      document.body.style.overflow = "";
    };

    // Event listeners
    if (cartIcon) {
      cartIcon.addEventListener("click", openCart);
    }

    if (closeCartBtn) {
      closeCartBtn.addEventListener("click", closeCart);
    }

    if (cartOverlay) {
      cartOverlay.addEventListener("click", closeCart);
    }

    // Initialize cart
    updateCartBadge();
    
    // Listen for storage changes (when items are added from other pages)
    window.addEventListener("storage", (e) => {
      if (e.key === "cart") {
        updateCartBadge();
        updateCartDisplay();
      }
    });

    // Custom event listener for cart updates
    window.addEventListener("cartUpdated", () => {
      updateCartBadge();
      updateCartDisplay();
    });
  });
</script> <script type="module">const e=document.querySelector(".menu-toggle"),t=document.querySelector("nav ul");e?.addEventListener("click",()=>{t?.classList.toggle("open")});</script> <main>  <section class="cart-page"> <div class="container"> <div class="cart-header"> <h1>Shopping Cart</h1> <a href="store" class="continue-shopping">← Continue Shopping</a> </div> <!-- Cart content will be loaded dynamically --> <div id="cart-content" class="cart-content"> <!-- Loading state --> <div id="cart-loading" class="cart-loading"> <p>Loading cart...</p> </div> <!-- Empty cart state --> <div id="cart-empty-state" class="empty-cart" style="display: none;"> <div class="empty-cart-content"> <i class="fas fa-shopping-cart empty-icon"></i> <h2>Your cart is empty</h2> <p>Looks like you haven't added any items to your cart yet.</p> <a href="store" class="btn btn-primary">Start Shopping</a> </div> </div> <!-- Cart items --> <div id="cart-items-container" class="cart-items-container" style="display: none;"> <div class="cart-items"> <div id="cart-items-list" class="cart-items-list"> <!-- Items will be loaded here --> </div> </div> <div class="cart-sidebar"> <div class="cart-summary"> <h3>Order Summary</h3> <div class="summary-line"> <span>Subtotal:</span> <span id="cart-subtotal">€0.00</span> </div> <div class="summary-line"> <span>Shipping:</span> <span id="cart-shipping">Calculated at checkout</span> </div> <div class="summary-line"> <span>Tax:</span> <span id="cart-tax">Calculated at checkout</span> </div> <hr> <div class="summary-line total"> <span>Total:</span> <span id="cart-total">€0.00</span> </div> <!-- Coupon section --> <div class="coupon-section"> <h4>Discount Code</h4> <div class="coupon-form"> <input type="text" id="coupon-input" placeholder="Enter coupon code" class="coupon-input"> <button id="apply-coupon" class="btn btn-secondary">Apply</button> </div> <div id="coupon-message" class="coupon-message" style="display: none;"></div> <div id="applied-coupon" class="applied-coupon" style="display: none;"> <div class="coupon-info"> <span class="coupon-code"></span> <button id="remove-coupon" class="remove-coupon">Remove</button> </div> <div class="coupon-discount"> <span>Discount:</span> <span id="coupon-discount-amount">-€0.00</span> </div> </div> </div> <div class="checkout-actions"> <button id="checkout-btn" class="btn btn-primary btn-large">
Proceed to Checkout
</button> <p class="secure-checkout"> <i class="fas fa-lock"></i>
Secure Checkout
</p> </div> </div> </div> </div> </div> </div> </section> <script type="module">
    document.addEventListener("DOMContentLoaded", () => {
      const cartContent = document.getElementById("cart-content");
      const cartLoading = document.getElementById("cart-loading");
      const cartEmptyState = document.getElementById("cart-empty-state");
      const cartItemsContainer = document.getElementById("cart-items-container");
      const cartItemsList = document.getElementById("cart-items-list");
      const cartSubtotal = document.getElementById("cart-subtotal");
      const cartTotal = document.getElementById("cart-total");
      const couponInput = document.getElementById("coupon-input");
      const applyCouponBtn = document.getElementById("apply-coupon");
      const couponMessage = document.getElementById("coupon-message");
      const appliedCoupon = document.getElementById("applied-coupon");
      const removeCouponBtn = document.getElementById("remove-coupon");

      // Sample coupon codes
      const validCoupons = {
        "WELCOME10": { type: "percentage", value: 10, description: "10% off your order" },
        "SAVE5": { type: "fixed", value: 5, description: "€5 off your order" },
        "NEWUSER": { type: "percentage", value: 15, description: "15% off for new users" }
      };

      let appliedCouponCode = null;

      // Format price function
      const formatPrice = (price, currency = "EUR") => {
        const safeCurrency = currency && typeof currency === 'string' ? currency : "EUR";
        return new Intl.NumberFormat("es-ES", {
          style: "currency",
          currency: safeCurrency
        }).format(parseFloat(price));
      };

      // Load cart from localStorage
      const loadCart = () => {
        try {
          return JSON.parse(localStorage.getItem("cart") || "[]");
        } catch (e) {
          console.error("Error loading cart:", e);
          return [];
        }
      };

      // Save cart to localStorage
      const saveCart = (cart) => {
        localStorage.setItem("cart", JSON.stringify(cart));
        // Dispatch event for other components
        window.dispatchEvent(new CustomEvent("cartUpdated"));
      };

      // Calculate totals
      const calculateTotals = (cart) => {
        const subtotal = cart.reduce((total, item) => total + (item.price * item.quantity), 0);
        let discount = 0;

        if (appliedCouponCode && validCoupons[appliedCouponCode]) {
          const coupon = validCoupons[appliedCouponCode];
          if (coupon.type === "percentage") {
            discount = subtotal * (coupon.value / 100);
          } else if (coupon.type === "fixed") {
            discount = Math.min(coupon.value, subtotal);
          }
        }

        const total = Math.max(0, subtotal - discount);

        return { subtotal, discount, total };
      };

      // Update cart display
      const updateCartDisplay = () => {
        const cart = loadCart();
        
        // Hide loading
        cartLoading.style.display = "none";

        if (cart.length === 0) {
          cartEmptyState.style.display = "block";
          cartItemsContainer.style.display = "none";
          return;
        }

        cartEmptyState.style.display = "none";
        cartItemsContainer.style.display = "block";

        // Render cart items
        cartItemsList.innerHTML = cart.map((item, index) => `
          <div class="cart-item" data-index="${index}">
            <div class="item-image">
              <img src="${item.thumbnail || 'https://placehold.co/120x120/121212/ffffff?text=No+Image'}" alt="${item.name}" />
            </div>
            <div class="item-details">
              <h3>${item.name}</h3>
              <p class="item-variant">Color: ${item.color} | Size: ${item.size}</p>
              <p class="item-price">${formatPrice(item.price, item.currency)} each</p>
            </div>
            <div class="item-controls">
              <div class="quantity-controls">
                <button class="qty-btn minus" data-index="${index}">-</button>
                <input type="number" class="quantity-input" value="${item.quantity}" min="1" data-index="${index}" />
                <button class="qty-btn plus" data-index="${index}">+</button>
              </div>
              <div class="item-total">
                ${formatPrice(item.price * item.quantity, item.currency)}
              </div>
              <button class="remove-item" data-index="${index}" aria-label="Remove item">
                <i class="fas fa-trash"></i>
              </button>
            </div>
          </div>
        `).join("");

        // Update totals
        updateTotals();

        // Add event listeners
        addEventListeners();
      };

      // Update totals
      const updateTotals = () => {
        const cart = loadCart();
        const { subtotal, discount, total } = calculateTotals(cart);

        cartSubtotal.textContent = formatPrice(subtotal);
        cartTotal.textContent = formatPrice(total);

        // Update coupon display
        if (appliedCouponCode && discount > 0) {
          document.getElementById("coupon-discount-amount").textContent = `-${formatPrice(discount)}`;
        }
      };

      // Add event listeners
      const addEventListeners = () => {
        // Quantity controls
        document.querySelectorAll(".qty-btn").forEach(btn => {
          btn.addEventListener("click", (e) => {
            const index = parseInt(e.target.dataset.index);
            const cart = loadCart();
            const isPlus = e.target.classList.contains("plus");

            if (isPlus) {
              cart[index].quantity += 1;
            } else {
              cart[index].quantity = Math.max(1, cart[index].quantity - 1);
            }

            saveCart(cart);
            updateCartDisplay();
          });
        });

        // Quantity inputs
        document.querySelectorAll(".quantity-input").forEach(input => {
          input.addEventListener("change", (e) => {
            const index = parseInt(e.target.dataset.index);
            const cart = loadCart();
            const newQuantity = Math.max(1, parseInt(e.target.value) || 1);
            
            cart[index].quantity = newQuantity;
            saveCart(cart);
            updateCartDisplay();
          });
        });

        // Remove items
        document.querySelectorAll(".remove-item").forEach(btn => {
          btn.addEventListener("click", (e) => {
            const index = parseInt(e.target.dataset.index);
            const cart = loadCart();
            cart.splice(index, 1);
            saveCart(cart);
            updateCartDisplay();
          });
        });
      };

      // Coupon functionality
      const applyCoupon = () => {
        const code = couponInput.value.trim().toUpperCase();
        
        if (!code) {
          showCouponMessage("Please enter a coupon code", "error");
          return;
        }

        if (validCoupons[code]) {
          appliedCouponCode = code;
          appliedCoupon.style.display = "block";
          appliedCoupon.querySelector(".coupon-code").textContent = code;
          couponInput.value = "";
          updateTotals();
          showCouponMessage(`Coupon applied: ${validCoupons[code].description}`, "success");
        } else {
          showCouponMessage("Invalid coupon code", "error");
        }
      };

      const removeCoupon = () => {
        appliedCouponCode = null;
        appliedCoupon.style.display = "none";
        updateTotals();
        showCouponMessage("Coupon removed", "info");
      };

      const showCouponMessage = (message, type) => {
        couponMessage.textContent = message;
        couponMessage.className = `coupon-message ${type}`;
        couponMessage.style.display = "block";
        
        setTimeout(() => {
          couponMessage.style.display = "none";
        }, 3000);
      };

      // Event listeners
      applyCouponBtn.addEventListener("click", applyCoupon);
      removeCouponBtn.addEventListener("click", removeCoupon);
      
      couponInput.addEventListener("keypress", (e) => {
        if (e.key === "Enter") {
          applyCoupon();
        }
      });

      // Checkout button
      document.getElementById("checkout-btn").addEventListener("click", () => {
        alert("Checkout functionality would be implemented here!");
      });

      // Initialize
      updateCartDisplay();
    });
  </script>  </main> <footer class="footer"> <div class="container footer-container"> <div class="footer-top"> <!-- Puedes decidir quitar el título si ya cuentas con el logo en el header --> <h2>Rave Revolution Beats</h2> <nav class="footer-nav"> <ul> <li><a href="">Home</a></li> <li><a href="about">About</a></li> <li><a href="music">Music</a></li> <li><a href="store">Store</a></li> <li><a href="contact">Contact</a></li> </ul> </nav> <div class="footer-social"> <a href="https://www.youtube.com/@RaveRevolutionBeats" target="_blank" rel="noopener"> <i class="fa-brands fa-youtube"></i> </a> <a href="https://www.instagram.com/raverevolutionbeats" target="_blank" rel="noopener"> <i class="fa-brands fa-instagram"></i> </a> <a href="https://www.tiktok.com/@raverevolutionbeats" target="_blank" rel="noopener"> <i class="fa-brands fa-tiktok"></i> </a> <a href="https://linktr.ee/raverevolutionbeats" target="_blank" rel="noopener"> <i class="fa-solid fa-link"></i> </a> <a href="https://www.threads.com/@raverevolutionbeats" target="_blank" rel="noopener"> <!-- No existe un icono oficial para Threads en Font Awesome, así que usamos uno alternativo --> <i class="fa-brands fa-threads"></i> </a> <a href="https://x.com/RaveRevolutionB" target="_blank" rel="noopener"> <i class="fa-brands fa-x-twitter"></i> </a> </div> </div> <div class="footer-bottom"> <p>&copy; 2025 Rave Revolution Beats. All Rights Reserved.</p> <p> <a href="/privacy">Privacy Policy</a> | <a href="/terms">Terms of Service</a> </p> </div> </div> </footer> </body></html>